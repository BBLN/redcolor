<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Red Color</title>

  <!-- Communicate with walla -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/sockjs-client/0.3.4/sockjs.min.js"></script>

  <!-- Thanks maxcdn! -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

  <!-- Optional theme -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">

</head>
<body>
  <script type="text/x-handlebars">
    <div class="container-fluid">
      <div class="row">
        {{outlet}}
      </div>
      <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <h1 class="text-center" style="font-size: 9em; opacity: 0.6; right: 50%; bottom: -330px; position: relative;">צבע אדום</h1>
        </div>
        <div class="col-md-3"></div>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="index">
    <div 
      id="livemap"
      style="display: none; position: relative; width: 80%; min-height: 400px;"></div>

    <script>
      //basic map config with custom fills, mercator projection
      var map = new Datamap({
        scope: 'world',
        element: document.getElementById('livemap'),
        projection: 'mercator',
        
        fills: {
          defaultFill: '#f0af0a',
          lt50: 'rgba(0,244,244,0.9)',
          gt50: 'red'
        },
        
        data: {
          'ISRAEL-04': {fillKey: 'lt50' },
          RUS: {fillKey: 'lt50' },
          CAN: {fillKey: 'lt50' },
          BRA: {fillKey: 'gt50' },
          ARG: {fillKey: 'gt50'},
          COL: {fillKey: 'gt50' },
          AUS: {fillKey: 'gt50' },
          ZAF: {fillKey: 'gt50' },
          MAD: {fillKey: 'gt50' }       
        }
      })
       

       //bubbles, custom popup on hover template
      map.bubbles([
       {name: 'Hot', latitude: 21.32, longitude: 5.32, radius: 10, fillKey: 'gt50'},
       {name: 'Chilly', latitude: -25.32, longitude: 120.32, radius: 18, fillKey: 'lt50'},
       {name: 'Hot again', latitude: 21.32, longitude: -84.32, radius: 8, fillKey: 'gt50'},

      ], {
       popupTemplate: function(geo, data) {
         return "<div class='hoverinfo'>It is " + data.name + "</div>";
       }
      });
      {{! Dirty fix }}
    <{{!}}/script>

    <ul>
    {{#each color in model}}
      <li>{{color.section}} - {{color.code}}</li>
    {{/each}}
    </ul>
  </script>

  <!-- d3 -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"></script>
  <!-- DataMaps directly from github for now. -->
  <script src="//datamaps.github.io/scripts/datamaps.world.min.js?v=1"></script>

  <!-- Ember comes with jquery -->
  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.6.1.js"></script>

  <!-- Latest compiled and minified JavaScript -->
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

  <!-- DS usage -->
  <script src="js/libs/ember-data.prod.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
